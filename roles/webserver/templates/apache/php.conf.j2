# Tell the PHP interpreter to handle files with a .php extension.

# Proxy declaration
<Proxy "unix:{{ php_socket[ansible_distribution] }}|fcgi://localhost">
        # we must declare a parameter in here (doesn't matter which) or it'll not register the proxy ahead of time
        ProxySet disablereuse=off
</Proxy>

# Redirect to the proxy
<FilesMatch \.php$>
        SetHandler proxy:fcgi://localhost
</FilesMatch>

#
# Allow php to handle Multiviews
#
AddType text/html .php

#
# Add index.php to the list of files that will be served as directory
# indexes.
#
DirectoryIndex index.php

#
# Uncomment the following lines to allow PHP to pretty-print .phps
# files as PHP source code:
#
#<FilesMatch \.phps$>
#       SetHandler application/x-httpd-php-source
#</FilesMatch>
